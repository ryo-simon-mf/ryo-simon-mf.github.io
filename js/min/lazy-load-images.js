!function(){if(!("IntersectionObserver"in window))return void console.warn("Intersection Observer not supported, falling back to native lazy loading");let e=0;const t=[];function n(){for(;e<3&&t.length>0;){o(t.shift())}}function o(t){const o=t.getAttribute("data-src");if(!o)return;e++;const r=new Image;r.decoding="async",r.onload=()=>{requestAnimationFrame(()=>{t.src=o,t.removeAttribute("data-src"),t.classList.add("lazy-loaded"),setTimeout(()=>{t.style.willChange="auto"},400),e--,n()})},r.onerror=()=>{console.error(`Failed to load image: ${o}`),e--,n()},r.src=o}const r=new IntersectionObserver((e,o)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.getAttribute("data-src")&&(t.push(n),o.unobserve(n))}}),n()},{rootMargin:"200px 0px",threshold:.01});function a(){const e=document.querySelectorAll("img[data-src]");e.forEach(e=>{r.observe(e)}),console.log(`[Lazy Load] Initialized for ${e.length} images`)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),window.reinitLazyLoad=a}();