const GLITCH_CHARS="01@#$%&*[]{}01010101><~^+=?/\\|";function animateTextGlitch(t,e,a=800){if(!t)return;const n=t.textContent||"",r=Math.max(n.length,e.length),o=performance.now(),s=Array.from({length:r},()=>.5*Math.random());requestAnimationFrame(function n(i){const c=i-o,l=Math.min(c/a,1);let y="";for(let t=0;t<r;t++){const a=Math.min(Math.max((l-s[t])/.5,0),1);a<1&&Math.random()>a?y+=GLITCH_CHARS[Math.floor(30*Math.random())]:y+=e[t]||""}t.textContent=y,l<1?requestAnimationFrame(n):t.textContent=e})}function animateTextTypewriter(t,e,a=1e3){if(!t)return;t.textContent="";const n=performance.now();requestAnimationFrame(function r(o){const s=o-n,i=Math.min(s/a,1),c=Math.floor(e.length*i);i<1?(t.textContent=e.substring(0,c)+"â–Œ",requestAnimationFrame(r)):t.textContent=e})}function initPageAnimations(){const t=document.getElementById("content");if(!t)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){t.querySelectorAll('[style*="opacity: 0"]').forEach(t=>{t.style.opacity="1",t.style.transform="none"});const e=t.querySelector(".swiper-container");e&&(e.style.opacity="1");t.querySelectorAll("hr").forEach(t=>t.style.opacity="1");return void t.querySelectorAll("#content_in").forEach(t=>{t.style.opacity="1",t.style.transform="none",Array.from(t.children).forEach(t=>{t.style.opacity="1",t.style.transform="none"})})}let e=null;const a={root:null,rootMargin:"0px 0px -100px 0px",threshold:.1},n={root:null,rootMargin:"0px",threshold:.01},r=(new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!t.target.dataset.animated&&(t.target.dataset.animated="true",t.target.classList.contains("scroll-animate")&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)"))})},a),t.querySelector("h1"));if(r){const t=r.textContent.trim();setTimeout(()=>{animateTextGlitch(r,t,800)},100)}const o=t.querySelector(".swiper-container");if(o){o.style.opacity="0",o.style.transition="opacity 0.8s ease";const a=t.querySelectorAll("hr");a.length>1&&(e=a[1],e.style.opacity="0",e.style.transition="opacity 0.8s ease"),setTimeout(()=>{o.style.opacity="1",e&&(e.style.opacity="1")},100)}const s=t.querySelector("h2");if(s){const t=s.textContent.trim();s.style.opacity="0",s.style.transition="opacity 0.6s ease";new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!e.target.dataset.animated&&(e.target.dataset.animated="true",setTimeout(()=>{e.target.style.opacity="1",animateTextGlitch(e.target,t,600)},100))})},a).observe(s)}const i=t.querySelector("h4");if(i){const t=i.textContent.trim();i.style.opacity="0",i.style.transition="opacity 0.6s ease";new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!e.target.dataset.animated&&(e.target.dataset.animated="true",setTimeout(()=>{e.target.style.opacity="1",animateTextGlitch(e.target,t,500)},100))})},a).observe(i)}const c=t.querySelectorAll("h3");if(c.length>0){const t=c[0],e=t.querySelectorAll("a");t.style.opacity="0",t.style.transition="opacity 0.6s ease";new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!t.target.dataset.animated&&(t.target.dataset.animated="true",t.target.style.opacity="1",e.forEach((t,e)=>{const a=t.textContent.trim();setTimeout(()=>{animateTextGlitch(t,a,600)},100*e)}))})},a).observe(t)}for(let t=1;t<c.length;t++){const e=c[t],n=e.textContent.trim();e.style.opacity="0",e.style.transition="opacity 0.6s ease";new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!t.target.dataset.animated&&(t.target.dataset.animated="true",setTimeout(()=>{t.target.style.opacity="1",t.target.textContent="",animateTextTypewriter(t.target,n,800)},100))})},a).observe(e)}t.querySelectorAll("#content_in").forEach((t,e)=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.4s ease, transform 0.4s ease";new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!t.target.dataset.animated&&(t.target.dataset.animated="true",setTimeout(()=>{t.target.style.opacity="1",t.target.style.transform="translateY(0)";Array.from(t.target.children).forEach((t,e)=>{t.style.opacity="0",t.style.transform="translateY(10px)",t.style.transition="opacity 0.3s ease, transform 0.3s ease",setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},30*e)})},50))})},a).observe(t)});t.querySelectorAll("img").forEach((t,e)=>{t.style.opacity="0",t.style.transition="opacity 0.6s ease",t.complete?setTimeout(()=>{t.style.opacity="1"},300+50*e):t.addEventListener("load",()=>{setTimeout(()=>{t.style.opacity="1"},300+50*e)})});t.querySelectorAll("iframe").forEach((t,e)=>{t.style.opacity="0",t.style.transition="opacity 0.6s ease",setTimeout(()=>{t.style.opacity="1"},400+100*e)});const l=t.querySelectorAll("hr"),y=l.length;l.forEach((t,r)=>{if(0===r)return void(t.style.opacity="1");if(t===e)return;t.style.opacity="0",t.style.transition="opacity 0.8s ease";new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!t.target.dataset.animated&&(t.target.dataset.animated="true",t.target.style.opacity="1")})},r>=y-2?n:a).observe(t)})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initPageAnimations):initPageAnimations();