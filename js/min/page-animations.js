const GLITCH_CHARS="01@#$%&*[]{}01010101><~^+=?/\\|";function animateTextGlitch(t,e,n=800){if(!t)return;const o=t.textContent||"",i=Math.max(o.length,e.length),a=performance.now(),s=Array.from({length:i},()=>.5*Math.random());requestAnimationFrame(function o(r){const l=r-a,c=Math.min(l/n,1);let y="";for(let t=0;t<i;t++){const n=Math.min(Math.max((c-s[t])/.5,0),1);n<1&&Math.random()>n?y+=GLITCH_CHARS[Math.floor(30*Math.random())]:y+=e[t]||""}t.textContent=y,c<1?requestAnimationFrame(o):t.textContent=e})}function animateTextTypewriter(t,e,n=1e3){if(!t)return;t.textContent="";const o=performance.now();requestAnimationFrame(function i(a){const s=a-o,r=Math.min(s/n,1),l=Math.floor(e.length*r);r<1?(t.textContent=e.substring(0,l)+"â–Œ",requestAnimationFrame(i)):t.textContent=e})}function initPageAnimations(){const t=document.getElementById("content");if(!t)return;let e=null;const n=t.querySelector("h1");if(n){const t=n.textContent.trim();setTimeout(()=>{animateTextGlitch(n,t,800)},100)}const o=t.querySelector(".swiper-container");if(o){o.style.opacity="0",o.style.transition="opacity 0.8s ease";const n=t.querySelectorAll("hr");console.log("[Page Animations] Total hrs found:",n.length),n.length>1&&(e=n[1],console.log("[Page Animations] Setting swiperHrElement (index 1):",e),e.style.opacity="0",e.style.transition="opacity 0.8s ease"),setTimeout(()=>{o.style.opacity="1",e&&(e.style.opacity="1",console.log("[Page Animations] Fading in swiperHrElement"))},100)}const i=o?900:100,a=t.querySelector("h2");if(a){const t=a.textContent.trim();setTimeout(()=>{a.style.opacity="1",animateTextGlitch(a,t,600)},i)}const s=t.querySelector("h4");if(s){const t=s.textContent.trim();setTimeout(()=>{s.style.opacity="1",animateTextGlitch(s,t,500)},i+300)}const r=t.querySelectorAll("h3");if(r.length>0){const t=r[0],e=t.querySelectorAll("a");setTimeout(()=>{t.style.opacity="1",e.forEach((t,e)=>{const n=t.textContent.trim();setTimeout(()=>{animateTextGlitch(t,n,600)},100*e)})},i+400)}for(let t=1;t<r.length;t++){const e=r[t],n=e.textContent.trim();setTimeout(()=>{e.style.opacity="1",e.textContent="",animateTextTypewriter(e,n,800)},i+600+200*(t-1))}t.querySelectorAll("#content_in").forEach((t,e)=>{t.style.transform="translateY(10px)",t.style.transition="opacity 0.5s ease, transform 0.5s ease";const n=Array.from(t.children);n.forEach((t,e)=>{t.style.opacity="0",t.style.transform="translateY(10px)",t.style.transition="opacity 0.4s ease, transform 0.4s ease"}),setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)",n.forEach((t,e)=>{setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},80*e)})},i+700+250*e)});t.querySelectorAll("img").forEach((t,e)=>{t.style.opacity="0",t.style.transition="opacity 0.6s ease",t.complete?setTimeout(()=>{t.style.opacity="1"},300+50*e):t.addEventListener("load",()=>{setTimeout(()=>{t.style.opacity="1"},300+50*e)})});t.querySelectorAll("iframe").forEach((t,e)=>{t.style.opacity="0",t.style.transition="opacity 0.6s ease",setTimeout(()=>{t.style.opacity="1"},400+100*e)});t.querySelectorAll("hr").forEach((t,n)=>{if(console.log(`[Page Animations] Processing hr index ${n}, is swiperHr:`,t===e),0===n)return t.style.opacity="1",void console.log(`[Page Animations] hr ${n}: keeping visible (first hr)`);t!==e?(console.log(`[Page Animations] hr ${n}: will fade in at ${i+600+100*n}ms`),t.style.opacity="0",t.style.transition="opacity 0.4s ease",setTimeout(()=>{t.style.opacity="1",console.log(`[Page Animations] hr ${n}: faded in`)},i+600+100*n)):console.log(`[Page Animations] hr ${n}: skipping (swiperHrElement, already handled)`)})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initPageAnimations):initPageAnimations();